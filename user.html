<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>BuySell Liberia - Buy & Sell Platform</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="user.css">
</head>
<body>
    <!-- User Header -->
    <div class="user-header">
        <div class="user-nav">
            <div class="user-logo">
                <img src="logo.jpeg" alt="BuySell Liberia Logo">
                <h1>BuySell Liberia</h1>
            </div>
            <button class="menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle navigation menu">
                ☰
            </button>
            <div class="user-nav-links" id="mobileMenu">
                <a href="#home" onclick="closeMobileMenu()">Home</a>
                <a href="#listings" onclick="closeMobileMenu()">Listings</a>
                <a href="#categories" onclick="closeMobileMenu()">Categories</a>
                <a href="#about" onclick="closeMobileMenu()">About</a>
                <a href="#contact" onclick="closeMobileMenu()">Contact</a>
            </div>
            <div class="user-auth-buttons" id="authButtons">
                <button class="auth-btn login-btn" onclick="showModal('loginModal')">Login</button>
                <button class="auth-btn register-btn" onclick="showModal('registerModal')">Register</button>
            </div>
            <div class="user-auth-buttons" id="userMenu" style="display: none;">
                <span id="userName" style="margin-right: 15px;"></span>
                <button class="auth-btn login-btn" onclick="logout()">Logout</button>
            </div>
        </div>
    </div>

    <!-- Public View -->
    <div class="public-view" id="publicView">
        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-content">
                <h2>Buy & Sell Anything in Liberia</h2>
                <p>Join thousands of Liberians buying and selling on the most trusted platform. From mobile phones to cars, apartments to furniture - find it all here!</p>
                <div class="cta-buttons">
                    <button class="cta-btn cta-primary" onclick="requireLogin('start selling')">Start Selling</button>
                    <button class="cta-btn cta-secondary" onclick="scrollToListings()">Browse Listings</button>
                </div>
            </div>
        </div>

        <!-- Stats Section -->
        <div class="stats-section">
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number">12,540</div>
                    <div class="stat-label">Registered Users</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">8,312</div>
                    <div class="stat-label">Active Listings</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">25,600</div>
                    <div class="stat-label">Successful Transactions</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">15</div>
                    <div class="stat-label">Counties Covered</div>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div class="features-section">
            <div class="features-container">
                <div style="text-align: center;">
                    <h2>Platform Features</h2>
                    <p>Everything you need to buy and sell safely and conveniently in Liberia</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">📱</div>
                        <h3>Easy Registration</h3>
                        <p>Quick and simple registration process. Create your account with just name, email, and phone number.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">📦</div>
                        <h3>Create Listings</h3>
                        <p>Post your items with photos, descriptions, and pricing. Reach thousands of potential buyers.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">💳</div>
                        <h3>Multiple Payment Methods</h3>
                        <p>Pay using MTN Money, Orange Money, or Bank Transfer. Submit payment confirmations with screenshots.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">💬</div>
                        <h3>Direct Messaging</h3>
                        <p>Message other users directly to negotiate prices, arrange meetups, and complete transactions.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🚨</div>
                        <h3>Report System</h3>
                        <p>Report suspicious listings, fake items, or inappropriate content to keep the platform safe.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">📊</div>
                        <h3>Transaction History</h3>
                        <p>Keep track of all your listings, payments, and transactions in your personal dashboard.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Listings Section -->
        <div class="listings-section" id="listings">
            <div class="features-container">
                <div class="listings-header">
                    <h2>Featured Listings</h2>
                    <p>Browse the latest items for sale across Liberia</p>
                </div>
                <div class="listings-grid">
                    <div class="listing-card">
                        <div class="listing-image">📱</div>
                        <div class="listing-content">
                            <div class="listing-title">iPhone 13 Pro Max</div>
                            <div class="listing-price">L$ 85,000</div>
                            <div class="listing-details">📍 Monrovia • 📅 2 days ago • 🏷️ Mobile Phones</div>
                            <div class="listing-actions">
                                <button class="listing-btn contact-btn" onclick="requireLogin('contact seller')">Contact Seller</button>
                                <button class="listing-btn report-btn" onclick="requireLogin('report listing')">Report</button>
                            </div>
                        </div>
                    </div>
                    <div class="listing-card">
                        <div class="listing-image">🚗</div>
                        <div class="listing-content">
                            <div class="listing-title">Toyota Camry 2015</div>
                            <div class="listing-price">L$ 1,200,000</div>
                            <div class="listing-details">📍 Buchanan • 📅 1 day ago • 🏷️ Cars</div>
                            <div class="listing-actions">
                                <button class="listing-btn contact-btn" onclick="requireLogin('contact seller')">Contact Seller</button>
                                <button class="listing-btn report-btn" onclick="requireLogin('report listing')">Report</button>
                            </div>
                        </div>
                    </div>
                    <div class="listing-card">
                        <div class="listing-image">🏠</div>
                        <div class="listing-content">
                            <div class="listing-title">Apartment in Sinkor</div>
                            <div class="listing-price">L$ 450,000</div>
                            <div class="listing-details">📍 Monrovia • 📅 3 days ago • 🏷️ Apartments</div>
                            <div class="listing-actions">
                                <button class="listing-btn contact-btn" onclick="requireLogin('contact seller')">Contact Seller</button>
                                <button class="listing-btn report-btn" onclick="requireLogin('report listing')">Report</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payment Methods Section -->
        <div class="payment-section">
            <div class="features-container">
                <div style="text-align: center;">
                    <h2>Payment Methods</h2>
                    <p>Choose from multiple secure payment options</p>
                </div>
                <div class="payment-methods">
                    <div class="payment-method active">
                        <div class="payment-icon">📱</div>
                        <h3>MTN Mobile Money</h3>
                        <p>Pay instantly using your MTN Money account. Submit screenshots for verification.</p>
                    </div>
                    <div class="payment-method">
                        <div class="payment-icon">🟠</div>
                        <h3>Orange Money</h3>
                        <p>Use Orange Money for quick and secure payments. Screenshot verification required.</p>
                    </div>
                    <div class="payment-method">
                        <div class="payment-icon">🏦</div>
                        <h3>Bank Transfer</h3>
                        <p>Traditional bank transfers supported. Submit transaction receipts for confirmation.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Logged In View -->
    <div class="logged-in-view" id="loggedInView">
        <div class="user-dashboard">
            <div class="dashboard-header">
                <h2>Welcome to Your Dashboard</h2>
                <p>Manage your listings, payments, and messages all in one place</p>
            </div>

            <div class="dashboard-tabs">
                <button class="dashboard-tab active" onclick="switchTab('dashboard')">Dashboard</button>
                <button class="dashboard-tab" onclick="switchTab('listings')">My Listings</button>
                <button class="dashboard-tab" onclick="switchTab('payments')">Payment History</button>
                <button class="dashboard-tab" onclick="switchTab('messages')">Messages</button>
                <button class="dashboard-tab" onclick="switchTab('create')">Create Listing</button>
            </div>

            <div class="dashboard-content" id="dashboardContent">
                <div id="dashboardTab" class="tab-content">
                    <div class="stats-grid">
                        <div class="stat-card card">
                            <div class="stat-value text-primary">5</div>
                            <div class="stat-label">Active Listings</div>
                        </div>
                        <div class="stat-card card">
                            <div class="stat-value text-info">12</div>
                            <div class="stat-label">Total Sold</div>
                        </div>
                        <div class="stat-card card">
                            <div class="stat-value text-secondary">8</div>
                            <div class="stat-label">Pending Payments</div>
                        </div>
                        <div class="stat-card card">
                            <div class="stat-value text-primary">23</div>
                            <div class="stat-label">Messages</div>
                        </div>
                    </div>
                </div>

                <div id="listingsTab" class="tab-content" style="display: none;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 1rem;">
                        <h3>My Listings</h3>
                        <button class="btn btn-primary" onclick="switchTab('create')">Create New Listing</button>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Price</th>
                                    <th>Category</th>
                                    <th>Status</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>iPhone 13 Pro Max</td>
                                    <td>L$ 85,000</td>
                                    <td>Mobile Phones</td>
                                    <td><span class="status-badge status-active">Active</span></td>
                                    <td>04/20/24</td>
                                    <td>
                                        <button class="btn btn-warning" style="font-size: 12px; padding: 4px 8px; margin-right: 4px;">Edit</button>
                                        <button class="btn btn-success" style="font-size: 12px; padding: 4px 8px;">Mark Sold</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Samsung Galaxy S21</td>
                                    <td>L$ 65,000</td>
                                    <td>Mobile Phones</td>
                                    <td><span class="status-badge status-sold">Sold</span></td>
                                    <td>03/15/24</td>
                                    <td>
                                        <button class="btn btn-primary" style="font-size: 12px; padding: 4px 8px;">View</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="paymentsTab" class="tab-content" style="display: none;">
                    <h3>Payment History</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Payment Method</th>
                                    <th>Amount</th>
                                    <th>Feature Type</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>MTN Money</td>
                                    <td>L$ 5,000</td>
                                    <td>Featured Listing</td>
                                    <td>04/23/24</td>
                                    <td><span class="status-badge status-pending">Pending</span></td>
                                    <td>
                                        <button class="btn btn-primary" style="font-size: 12px; padding: 4px 8px;">View Receipt</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Orange Money</td>
                                    <td>L$ 3,000</td>
                                    <td>Ad Placement</td>
                                    <td>03/18/24</td>
                                    <td><span class="status-badge status-approved">Approved</span></td>
                                    <td>
                                        <button class="btn btn-primary" style="font-size: 12px; padding: 4px 8px;">View Receipt</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="messagesTab" class="tab-content" style="display: none;">
                    <h3>Messages</h3>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                        <p><strong>From:</strong> Jane Smith</p>
                        <p><strong>Subject:</strong> iPhone 13 Pro Max Inquiry</p>
                        <p><strong>Date:</strong> 04/23/24</p>
                        <p>Is this phone still available? I'm interested in purchasing...</p>
                        <button class="btn btn-primary" style="font-size: 12px; padding: 4px 8px;">Reply</button>
                    </div>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 5px;">
                        <p><strong>To:</strong> Mike Brown</p>
                        <p><strong>Subject:</strong> Car Purchase Inquiry</p>
                        <p><strong>Date:</strong> 04/22/24</p>
                        <p>Can you meet at Congo Town market tomorrow?</p>
                        <button class="btn btn-primary" style="font-size: 12px; padding: 4px 8px;">View Thread</button>
                    </div>
                </div>

                <div id="createTab" class="tab-content" style="display: none;">
                    <h3>Create New Listing</h3>
                    <div class="grid-2" style="margin-bottom: 20px;">
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" placeholder="Enter listing title">
                        </div>
                        <div class="form-group">
                            <label>Category</label>
                            <select>
                                <option>Mobile Phones</option>
                                <option>Cars</option>
                                <option>Apartments</option>
                                <option>Home & Furniture</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Price (LRD)</label>
                            <input type="number" placeholder="Enter price">
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <select>
                                <option>Monrovia</option>
                                <option>Buchanan</option>
                                <option>Gbarnga</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea placeholder="Describe your item..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Photos</label>
                        <div class="file-upload">
                            <p>📷 Click to upload photos</p>
                            <input type="file" multiple accept="image/*" style="display: none;">
                        </div>
                    </div>
                    <button class="btn btn-primary">Create Listing</button>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Chatbot -->
    <div class="ai-chatbot">
        <button class="chatbot-toggle" onclick="toggleChatbot()" aria-label="Open AI Assistant">
            🤖
        </button>
        
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <h3>
                    <span class="chatbot-status"></span>
                    BuySell AI Assistant
                </h3>
                <button class="chatbot-close" onclick="closeChatbot()" aria-label="Close chat">×</button>
            </div>
            
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message ai">
                    <div>Hello! 👋 I'm your BuySell Liberia AI Assistant. I'm here to help you with:</div>
                    <div class="message-time">Just now</div>
                </div>
                <div class="quick-actions">
                    <button class="quick-action" onclick="sendQuickMessage('How to create a listing?')">📝 Create Listing</button>
                    <button class="quick-action" onclick="sendQuickMessage('How to make payments?')">💳 Payment Help</button>
                    <button class="quick-action" onclick="sendQuickMessage('How to report a listing?')">🚨 Report Issue</button>
                    <button class="quick-action" onclick="sendQuickMessage('Account support')">👤 Account Help</button>
                </div>
            </div>
            
            <div class="typing-indicator" id="typingIndicator">
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            </div>
            
            <div class="chatbot-input">
                <input type="text" id="chatInput" placeholder="Type your message..." onkeypress="handleChatKeyPress(event)" aria-label="Chat message input">
                <button class="chatbot-send" onclick="sendMessage()" id="sendButton" aria-label="Send message">➤</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal" role="dialog" aria-labelledby="loginTitle" aria-hidden="true">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')" aria-label="Close login modal">&times;</span>
            <h2 id="loginTitle">Login to Your Account</h2>
            <form onsubmit="return userLogin(event)">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required aria-describedby="emailHelp">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
            <p style="text-align: center; margin-top: 20px;">
                Don't have an account? <a href="#" onclick="closeModal('loginModal'); showModal('registerModal');">Register here</a>
            </p>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal" role="dialog" aria-labelledby="registerTitle" aria-hidden="true">
        <div class="modal-content">
            <span class="close" onclick="closeModal('registerModal')" aria-label="Close register modal">&times;</span>
            <h2 id="registerTitle">Create Your Account</h2>
            <form onsubmit="return userRegister(event)">
                <div class="form-group">
                    <label for="registerName">Full Name</label>
                    <input type="text" id="registerName" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPhone">Phone Number</label>
                    <input type="tel" id="registerPhone" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Register</button>
            </form>
            <p style="text-align: center; margin-top: 20px;">
                Already have an account? <a href="#" onclick="closeModal('registerModal'); showModal('loginModal');">Login here</a>
            </p>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal" role="dialog" aria-labelledby="paymentTitle" aria-hidden="true">
        <div class="modal-content">
            <span class="close" onclick="closeModal('paymentModal')" aria-label="Close payment modal">&times;</span>
            <h2 id="paymentTitle">Submit Payment Confirmation</h2>
            <form>
                <div class="form-group">
                    <label for="paymentMethod">Payment Method</label>
                    <select id="paymentMethod">
                        <option>MTN Mobile Money</option>
                        <option>Orange Money</option>
                        <option>Bank Transfer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="paymentAmount">Amount Paid (LRD)</label>
                    <input type="number" id="paymentAmount" placeholder="Enter amount">
                </div>
                <div class="form-group">
                    <label for="transactionRef">Transaction Reference</label>
                    <input type="text" id="transactionRef" placeholder="Enter transaction ID">
                </div>
                <div class="form-group">
                    <label for="paymentScreenshot">Payment Screenshot</label>
                    <div class="file-upload">
                        <p>📷 Upload payment screenshot</p>
                        <input type="file" id="paymentScreenshot" accept="image/*" style="display: none;">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Submit Payment</button>
            </form>
        </div>
    </div>

    <!-- Report Modal -->

    <script>
        // Mobile menu toggle functionality
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.menu-toggle');
            
            if (mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
                menuToggle.setAttribute('aria-expanded', 'false');
                menuToggle.innerHTML = '☰';
            } else {
                mobileMenu.classList.add('active');
                menuToggle.setAttribute('aria-expanded', 'true');
                menuToggle.innerHTML = '✕';
            }
        }

        // Close mobile menu when clicking on a link
        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.menu-toggle');
            
            mobileMenu.classList.remove('active');
            menuToggle.setAttribute('aria-expanded', 'false');
            menuToggle.innerHTML = '☰';
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.menu-toggle');
            
            if (!mobileMenu.contains(event.target) && !menuToggle.contains(event.target)) {
                closeMobileMenu();
            }
        });

        // Close mobile menu on escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeMobileMenu();
            }
        });

        // Modal functions
        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        }

        // User authentication functions
        function userLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation
            if (email && password) {
                // Simulate login
                document.getElementById('publicView').style.display = 'none';
                document.getElementById('loggedInView').style.display = 'block';
                document.getElementById('authButtons').style.display = 'none';
                document.getElementById('userMenu').style.display = 'flex';
                document.getElementById('userName').textContent = email.split('@')[0];
                closeModal('loginModal');
            }
        }

        function userRegister(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            
            // Simple validation
            if (name && email && phone && password) {
                alert('Registration successful! Please login.');
                closeModal('registerModal');
                showModal('loginModal');
            }
        }

        function logout() {
            document.getElementById('publicView').style.display = 'block';
            document.getElementById('loggedInView').style.display = 'none';
            document.getElementById('authButtons').style.display = 'flex';
            document.getElementById('userMenu').style.display = 'none';
        }

        function requireLogin(action) {
            alert(`Please login to ${action}.`);
            showModal('loginModal');
        }

        function scrollToListings() {
            document.getElementById('listings').scrollIntoView({ behavior: 'smooth' });
        }

        // Dashboard tab switching
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.style.display = 'none';
            });
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.dashboard-tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName + 'Tab').style.display = 'block';
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Chatbot functions
        function toggleChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            if (chatbotWindow.style.display === 'flex') {
                closeChatbot();
            } else {
                chatbotWindow.style.display = 'flex';
                document.getElementById('chatInput').focus();
            }
        }

        function closeChatbot() {
            document.getElementById('chatbotWindow').style.display = 'none';
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                addMessage(message, 'user');
                input.value = '';
                
                // Simulate AI response
                setTimeout(() => {
                    addMessage('Thank you for your message! I\'m here to help with any questions about BuySell Liberia.', 'ai');
                }, 1000);
            }
        }

        function sendQuickMessage(message) {
            addMessage(message, 'user');
            setTimeout(() => {
                addMessage('I\'d be happy to help you with that! Please provide more details about your specific question.', 'ai');
            }, 1000);
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            messageDiv.innerHTML = `
                <div>${text}</div>
                <div class="message-time">${time}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial states
            document.getElementById('mobileMenu').classList.remove('active');
            document.querySelector('.menu-toggle').setAttribute('aria-expanded', 'false');
        });
    </script>